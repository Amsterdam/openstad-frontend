
<script src="https://unpkg.com/react@16/umd/react.production.min.js"></script>
<script src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js"></script>

<script src="/modules/app-widgets/js/index.js?v={{data.assetsGeneration}}"></script>

<div id="{{data.widget.containerId}}" class="osc-component" style="width:100%; height:100%">
    <div id="admin-root"></div>
</div>
<script>
    document.addEventListener("DOMContentLoaded", function(event) {

        var settings = AppEditor.settings.{{data.widget.editorType if data.widget.editorType  else 'workout'}};

        var appProps = {
                appId: {{data.activeResource.id}},
                editableResources: settings.editableResources,
                singleResources: settings.singleResources,
                defaultResources: settings.defaultResources,
                appTemplates: settings.appTemplates,
                apiBase: '/api/site/{{data.global.siteId}}',
                oAuthBase: '/oauth/site/{{data.global.siteId}}/me',
                urlPrefix: '{{data.currentPath}}',
                urlPrefix1: '{{data.currentPathname}}',
                videoApiUrl: '/video-api',
                siteKey: '',
                jwt: '',
                dummyUser: AppEditor.dummyUser,
                logo: {src: '/modules/app-widgets/logo-your-move.png', width: 40, height: 40}
        };


        console.log('AppEditor', AppEditor);

        ReactDOM.render(React.createElement(AppEditor.default, appProps), document.getElementById('admin-root'));
    });
</script>