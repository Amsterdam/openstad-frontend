
<script src="https://unpkg.com/react@16/umd/react.production.min.js"></script>
<script src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js"></script>

<link rel="stylesheet" href="/modules/app-widgets/js/main.css?v={{data.assetsGeneration}}">
<script src="/modules/app-widgets/js/index.js?v={{data.assetsGeneration}}"></script>

<div id="{{data.widget.containerId}}" class="osc-component" style="width:100%; height:100%">
    <div id="admin-root"></div>
</div>
<script>
    document.addEventListener("DOMContentLoaded", function(event) {

        var settings = {
            singleResources: [
                'styling'
            ],
            editableResources: [
                'workoutProgram',
                'workout',
                'exercise',
                'membership'
            ],
            defaultResources: [
                {
                    name: 'styling',
                    items: [{

                    }],
                },
                {
                    name: 'workoutProgram',
                    items: [],
                },
                {
                    name: 'workout',
                    items: [],
                },
                {
                    name: 'exercise',
                    items: [],
                },
                {
                    name: 'membership',
                    items: [{

                    }],
                },
            ]
        }

        var defaultUser = {
            id: 1,
            firstName: 'Tosh',
            lastName: 'koevoets'
        }

        var appProps = {
            appId:1,
            editableResources: settings.editableResources,
            singleResources: settings.singleResources,
            defaultResources: settings.defaultResources,
            user: defaultUser,
            apiBase: '/api/site/{{data.global.siteId}}'
        };

        ReactDOM.render(React.createElement(AppEditor.default, appProps), document.getElementById('admin-root'));
    });
</script>