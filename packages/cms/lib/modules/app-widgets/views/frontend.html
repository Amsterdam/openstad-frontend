<script src="https://unpkg.com/react@16/umd/react.production.min.js"></script>
<script src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js"></script>
<script src="/modules/app-widgets/js/frontend.js?v={{data.assetsGeneration}}"></script>

<div id="{{data.widget.containerId}}" class="osc-component" style="width:100%; height:100%">
    <div id="admin-root"></div>
</div>
<script>
    document.addEventListener("DOMContentLoaded", function(event) {
        var settings = AppEditor.settings.{{data.widget.editorType if data.widget.editorType  else 'workout'}};

        var appProps = {
             appId: {{data.widget.appId if data.widget.appId else 0}},
             jwt: '{{data.jwt}}',
             defaultResources: settings.defaultResources,
             apiBase: '/api/site/{{data.global.siteId}}',
             oAuthBase:  '/api-oauth/site/{{data.global.siteId}}',
             checkoutUrl: '{{data.siteUrl}}/cart/set',
             urlPrefix: '{{data.currentPath}}',
             startState: '{{data.widget.startState}}',
             loginUrl: '/oauth/login?returnTo={{data.currentPath}}'
    };

        ReactDOM.render(React.createElement(AppEditor.FrontendApp, appProps), document.getElementById('admin-root'));
    });
</script>