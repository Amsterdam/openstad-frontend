{% import 'numberplate.njk' as numberPlateButton %}

{% set editorInputElementId = 'map' %}


{% if data.widget.mapType == 'nlmaps-openlayers' %}
  <div id="nlmaps-holder">
    <div id="map-with-buttons-container">
      <div id="{{editorInputElementId}}" style="width: 100%; height: 400px;"></div>
      <div class="map-buttons-container">
        {% if (data.widget.displayCtaButton) %}
        <a href="{{data.widget.ctaUrl}}" class="page-button page-button-blue page-button-flag">
          {{ data.widget.ctaText if data.widget.ctaText else 'Voeg een opknappunt toe' }}
        </a>
        {% endif %}
        {% if (data.widget.displayCounter) %}
        {{numberPlateButton.numberPlateButton('no-of-locations', data.widget.counterText, data.ideas.length, '#')}}
        {% endif %}
      </div>
    </div>
  </div>

  <link rel="stylesheet" href="https://openlayers.org/en/v4.6.5/css/ol.css">

{% else %}
  <script src="https://maps.googleapis.com/maps/api/js?key={{apos.settings.getOption('googleMapsApiKey')}}"></script>

  <div id="map-with-buttons-container" data-config="{{ data.widget.mapConfig }}">
    <div id="{{editorInputElementId}}" style="width: 100%; height: 400px;"></div>
    <div class="map-buttons-container">
      {% if (data.widget.displayCtaButton) %}
      <a href="{{data.widget.ctaUrl}}" class="page-button page-button-blue page-button-flag">
        {{ data.widget.ctaText if data.widget.ctaText else 'Stuur je plan in!' }}
      </a>
      {% endif %}
      {% if (data.widget.displayCounter) %}
      {{numberPlateButton.numberPlateButton('no-of-locations', data.widget.counterText, data.ideas.length, '#')}}
      {% endif %}
    </div>
  </div>
{% endif %}
