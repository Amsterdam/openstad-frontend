{% import 'ideas-list.html' as ideasList %}
{% import 'budgeting.html' as budgeting %}

{% set pageTitle    = 'Stemmen' %}
{% set contentClass = 'ideasList' %}
{% set activeMenu   = 'budget' %}


	{% if config.budgeting.isActive %}
		<div class="pageContent {{contentClass}}" style="margin-top: -40px;">
			<div id="info-bewoners-west" class="info-block green">
        <!--
				Bewoners uit West kunnen stemmen t/m 13 feb 2019 met de stemcode die zij per post hebben ontvangen.
        -->
        {{data.widget.infoMessage}}
				<div class="close-button" onclick="hideInfoBewonersWest()"></div>
			</div>
		</div>

		{{ budgeting.showBudgetWindow() }}
	{% endif %}

	<script>
	 var csrfToken = '{{csrfToken}}';
	 var userHasVoted = {{userHasVoted}};
	 var userIsLoggedIn = {{userIsLoggedIn}};
	 var authServerLogoutUrl = '{{authServerLogoutUrl}}';
	 var defaultSort = 	{% if config.budgeting.isActive %}'random'{% else %}'ranking'{% endif %}
	</script>

	{% include 'includes/end-date-bar.njk' %}

	<div id="ideasList" class="pageContent {{contentClass}}">

		<h1>
			Plannen voor West ({{runningIdeas.length}})
		</h1>

		<div class="tab-selector">

			<ul class="hidden-xs">
				<li><a id="themaSelector0" href="javascript: void activateTab(0)">Alle thema's</a></li>
				<li><a id="themaSelector1" href="javascript: void activateTab(1)">Groen</a></li>
				<li><a id="themaSelector2" href="javascript: void activateTab(2)">Diversiteit & Inclusiviteit</a></li>
				<li><a id="themaSelector3" href="javascript: void activateTab(3)">Duurzaamheid</a></li>
			</ul>

			<select onchange="activateTab(this.selectedIndex)" class="default-select visible-xs">
				<option href="javascript: void activateTab(0)">Alle thema's </option>
				<option href="javascript: void activateTab(1)">Groen</option>
				<option href="javascript: void activateTab(2)">Diversiteit & Inclusiviteit</option>
				<option href="javascript: void activateTab(3)">Duurzaamheid</option>
			</select>
			<div class="divider"></div>
			<select id="filterSelector" class="default-select" onchange="activateFilter(this.selectedIndex)">
				<option value="0">Alle gebieden</option>
				<option value="Oud-West">Oud-West</option>
				<option value="Bos en Lommer">Bos en Lommer</option>
				<option value="De Baarsjes">De Baarsjes</option>
				<option value="Westerpark">Westerpark</option>
				<option value="West Algemeen">West Algemeen</option>
			</select>
			<a class="no-button inactive" href="javascript: void deactivateAll()">Wissen</a>
		</div>

		<div class="align-right">
			<b>Sorteer op: </b>
			<select id="selectSort" class="default-select sort-selector" onchange="doSort(this.value)">
				<option value="random">Willekeurig</option>
				<option value="ranking">Ranglijst</option>
				<option value="budget-down">Bedrag aflopend</option>
				<option value="budget-up">Bedrag oplopend</option>
			</select>
		</div>

		{{ ideasList.showIdeasList(runningIdeas, fullHost, user, userHasVoted, isAdmin) }}

	</div>

{% block scripts %}
	<script src="/js/sticky.js"></script>
	<script src="/js/accordion.js"></script>
{% endblock %}
