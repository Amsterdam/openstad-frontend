<link rel="stylesheet" type="text/css" href="/openstad-components/openstad-component-choices-guide.css"/>

<style>
 {{data.widget.formattedContainerStyles}}
</style>

<script src="https://unpkg.com/react@16/umd/react.production.min.js"></script>
<script src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js"></script>
<script src="/openstad-components/openstad-component-choices-guide.js"></script>

<script>
 window.addEventListener('load', function(e) {
   let config = {{data.widget.config | safe}};
   let element = document.querySelector('.openstad-component-choices-guide');
   OpenStadComponentChoicesGuide.renderElement(element, config);

   // heel erg temp voor fleur
   (function () {
     $(document).ready(function () {
       setTimeout(function() {
         $('.accordeon-item .title').on('click', function () {
           
           var $accordeonItem = $(this).closest('.accordeon-item');
           
           if ($accordeonItem.hasClass('closed')) {
             // Close all open items
             closeItem($('.accordeon-item:not(.closed)'));
             
             // Open the clicked item
             openItem($accordeonItem);
           } else {
             // Close all open items
             closeItem($('.accordeon-item:not(.closed)'));
           }
         });
       }, 3000);
     });
     function closeItem($el) {
       $el.addClass('closed').find('.description').css({maxHeight: 0});
     }
     function openItem($el) {
       // Get height of description and set it as maxheight on the accordeon item
       var height = $el.find('.description p').outerHeight();
       $el.removeClass('closed').find('.description').css({maxHeight: height});
     }
   })();
   
 });
</script>
<div id="{{data.widget.containerId}}" class="osc-component">
	<div class="openstad-component-choices-guide"></div>
</div>
